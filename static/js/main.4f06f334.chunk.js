(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),s=n.n(r),l=(n(14),n(1)),c=n(2),i=n(4),m=n(3),h=n(5),u=n(8),p=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={comments:[],isOpen:!1,sendQuery:0,descriptionChange:"",commentChange:""},n.handleClick=function(){var e=n.props.photoId;n.state.isOpen||0!==n.state.sendQuery?n.setState({isOpen:!n.state.isOpen}):VK.Api.call("photos.getComments",{photo_id:e,v:"5.87"},function(e){e.response&&n.setState({comments:e.response.items,isOpen:!n.state.isOpen,sendQuery:1})})},n.handleChange=function(e){var t=e.currentTarget.id;n.setState(Object(u.a)({},t,e.currentTarget.value))},n.handleSendDescription=function(){var e=n.props.photoId;VK.Api.call("photos.edit",{photo_id:e,caption:n.state.descriptionChange,v:"5.87"},function(e){e.response&&n.setState({descriptionChange:n.state.descriptionChange})})},n.handleSendComment=function(){var e=n.props.photoId;VK.Api.call("photos.createComment",{photo_id:e,message:n.state.commentChange,v:"5.87"},function(e){e.response?n.setState({commentChange:n.state.commentChange}):console.log("error")})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.comments.map(function(e){return o.a.createElement("li",{key:e.id,style:{listStyleType:"none",margin:"0px"}},o.a.createElement("p",{style:{margin:"0px"}},"Author id",e.from_id),e.text)}),t=this.props,n=t.photo,a=t.photoText,r=this.state,s=r.descriptionChange,l=r.isOpen,c=r.comments,i=r.commentChange;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card"},o.a.createElement("img",{className:"card-img-top",src:n.sizes[n.sizes.length-1].url,alt:n.text,onClick:this.handleClick}),l?o.a.createElement("div",null,o.a.createElement("div",{className:"card-header"},o.a.createElement("textarea",{id:"descriptionChange",className:"card-text",value:s,onChange:this.handleChange,placeholder:a.trim()?a:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043d\u0435\u0442"}),o.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSendDescription},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")),o.a.createElement("div",{className:"card-body"},c.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"card-text"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),o.a.createElement("ul",null,e),o.a.createElement("textarea",{id:"commentChange",onChange:this.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:i})):o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"card-text"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),o.a.createElement("textarea",{id:"commentChange",onChange:this.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:i})),o.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSendComment},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))):null))}}]),t}(o.a.Component),d=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={photos:[]},n.handleClick=function(){VK.Api.call("photos.getAll",{count:200,no_service_albums:0,photos_sizes:0,v:"5.87"},function(e){e.response&&n.setState({photos:e.response.items})})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.photos.map(function(e){return o.a.createElement("div",{key:e.id,className:"col-sm-3"},o.a.createElement(p,{photo:e,photoId:e.id,photoText:e.text}))});return o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},this.state.photos.length>0&&e)))}}]),t}(a.Component),g=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={id:null,username:""},n.handleLoginClick=function(){VK.Auth.login(n.authInfo,4)},n.handleLogout=function(){VK.Auth.logout(),n.setState({id:null,username:""})},n.authInfo=function(e){e.session?n.setState({username:e.session.user.first_name,id:e.session.user.id}):console.log("not auth")},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.id;return o.a.createElement(o.a.Fragment,null,t.trim()?o.a.createElement("p",null,"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, ",t):o.a.createElement("p",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"),null!==n?o.a.createElement("button",{className:"btn btn-primary float-right",onClick:this.handleLogout},"\u0432\u044b\u0439\u0442\u0438"):null,t.trim()?o.a.createElement(d,null):o.a.createElement("button",{className:"btn btn-primary",onClick:this.handleLoginClick},"\u0412\u043e\u0439\u0442\u0438"))}}]),t}(a.Component),b=(n(16),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(g,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.4f06f334.chunk.js.map